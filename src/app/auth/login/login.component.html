<!-- src/app/auth/login/login.component.html -->
<!-- üîê LOGIN WEB - MATERIAL DESIGN - BASADO EN M√ìVIL FUNCIONAL -->

<div class="login-container">
    <!-- ‚úÖ HEADER CON BRANDING FITNOVA -->
    <div class="login-header">
      <div class="brand">
        <mat-icon class="brand-icon">fitness_center</mat-icon>
        <h1 class="brand-title">FitNova</h1>
        <p class="brand-subtitle">Plataforma Web para Entrenadores</p>
      </div>
    </div>
  
    <!-- ‚úÖ FORMULARIO DE LOGIN -->
    <mat-card class="login-card">
      <mat-card-header>
        <mat-card-title>Iniciar Sesi√≥n</mat-card-title>
        <mat-card-subtitle>Acceso para entrenadores y administradores</mat-card-subtitle>
      </mat-card-header>
  
      <mat-card-content>
        <!-- ‚úÖ FORMULARIO REACTIVO -->
        <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="login-form">
          
          <!-- ‚úÖ CAMPO EMAIL -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Correo Electr√≥nico</mat-label>
            <input 
              matInput 
              type="email" 
              formControlName="email"
              placeholder="ejemplo&#64;fitnova.com"
              autocomplete="email">
            <mat-icon matSuffix>email</mat-icon>
            
            <!-- ‚úÖ ERRORES DE VALIDACI√ìN -->
            <mat-error *ngIf="email?.invalid && email?.touched">
              {{ getEmailErrorMessage() }}
            </mat-error>
          </mat-form-field>
  
          <!-- ‚úÖ CAMPO PASSWORD -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contrase√±a</mat-label>
            <input 
              matInput 
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="M√≠nimo 6 caracteres"
              autocomplete="current-password">
            
            <!-- ‚úÖ TOGGLE VISIBILIDAD PASSWORD -->
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
  
            <!-- ‚úÖ ERRORES DE VALIDACI√ìN -->
            <mat-error *ngIf="password?.invalid && password?.touched">
              {{ getPasswordErrorMessage() }}
            </mat-error>
          </mat-form-field>
  
          <!-- ‚úÖ BOT√ìN LOGIN -->
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            class="login-button full-width"
            [disabled]="isLoading">
            
            <span *ngIf="!isLoading">Iniciar Sesi√≥n</span>
            <span *ngIf="isLoading" class="loading-content">
              <mat-spinner diameter="20" class="inline-spinner"></mat-spinner>
              Iniciando sesi√≥n...
            </span>
          </button>
  
          <!-- ‚úÖ LINK FORGOT PASSWORD -->
          <button 
            mat-button 
            type="button"
            class="forgot-password-btn"
            (click)="onForgotPassword()"
            [disabled]="isLoading || !email?.value">
            ¬øOlvidaste tu contrase√±a?
          </button>
  
        </form>
  
        <mat-divider class="divider"></mat-divider>
  
        <!-- ‚úÖ CREDENCIALES DE TESTING (igual que m√≥vil) -->
        <div class="testing-section">
          <p class="testing-title">Credenciales de Prueba:</p>
          
          <div class="test-credentials">
            <!-- ‚úÖ TRAINER CREDENTIALS -->
            <button 
              mat-stroked-button 
              color="accent"
              type="button"
              (click)="loadTestCredentials('trainer')"
              [disabled]="isLoading"
              class="test-btn">
              <mat-icon>person</mat-icon>
              Entrenador
            </button>
  
            <!-- ‚úÖ ADMIN CREDENTIALS -->
            <button 
              mat-stroked-button 
              color="warn"
              type="button"
              (click)="loadTestCredentials('admin')"
              [disabled]="isLoading"
              class="test-btn">
              <mat-icon>admin_panel_settings</mat-icon>
              Admin
            </button>
          </div>
  
          <!-- ‚úÖ INFO DE CREDENCIALES - CORREGIDO @ -->
          <div class="credentials-info">
            <p><strong>Entrenador:</strong> trainer&#64;fitnova.com / trainer123</p>
            <p><strong>Administrador:</strong> admin&#64;fitnova.com / admin123</p>
          </div>
        </div>
  
      </mat-card-content>
    </mat-card>
  
    <!-- ‚úÖ FOOTER CON INFO -->
    <div class="login-footer">
      <p class="footer-text">
        <mat-icon class="footer-icon">security</mat-icon>
        Conexi√≥n segura con Firebase Auth
      </p>
      <p class="footer-version">FitNova v2.0 - Plataforma Web</p>
    </div>
  
  </div>